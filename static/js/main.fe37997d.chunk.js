(this["webpackJsonpemployees-task"]=this["webpackJsonpemployees-task"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(8),r=n.n(i),a=(n(29),n(30),n(4)),s="abcdefghijklmnopqrstuvwxyz".toUpperCase().split(""),o=["January","February","March","April","May","June","July","August","September","October","November","December"],l=function(e,t){return null===e||void 0===e?void 0:e.sort((function(e,n){return e[t]===n[t]?0:e[t]<n[t]?-1:1}))},d=n(6),j=n(12),u=n.n(j),b=n(2),p=n(21),m=n(22),O=n.n(m),v="ALL_EMPLOYYES_REQUEST",h="ALL_EMPLOYEES_SUCCESS",y="ALL_EMPLOYYES_FAIL",f="SET_EMPLOYEE",x=function(e){return function(t){var n=localStorage.getItem("bdayEmployees")||"[]",c=JSON.parse(n),i=Object(b.a)({},e),r=e.isActive?[].concat(Object(d.a)(c),[i]):c.filter((function(e){return e.id!==i.id}));localStorage.setItem("bdayEmployees",JSON.stringify(r)),t({type:f,payload:i})}},g=n(1),E=function(e){var t=e.employee,n=Object(a.b)();return Object(g.jsxs)("div",{className:"employee__single item",children:[Object(g.jsx)("span",{style:{color:t.isActive&&"red"},children:"".concat(t.lastName," ").concat(t.firstName)}),Object(g.jsxs)("form",{children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",checked:!t.isActive,onChange:function(){n(x(Object(b.a)(Object(b.a)({},t),{},{isActive:!1})))}})," ","Not active"]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",checked:t.isActive,onChange:function(){n(x(Object(b.a)(Object(b.a)({},t),{},{isActive:!0})))}})," ","Active"]})]})]})},N=function(){var e=Object(a.b)();Object(c.useEffect)((function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t){var n,c,i,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v}),e.prev=1,e.next=4,O.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 4:n=e.sent,c=n.data,i=localStorage.getItem("bdayEmployees")||"[]",r=JSON.parse(i),a=c.map((function(e){return r.find((function(t){return t.id===e.id}))?Object(b.a)(Object(b.a)({},e),{},{isActive:!0}):Object(b.a)(Object(b.a)({},e),{},{isActive:!1})})),t({type:h,payload:a}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t({type:y,payload:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(a.c)((function(e){return e.getEmployees})),n=t.allEmployees,i=t.loading,r=t.error,o=l(n,"lastName"),d=!i&&s.map((function(e){var t=null===o||void 0===o?void 0:o.filter((function(t){return t.lastName[0]===e})),n=null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(E,{employee:e},e.id)}));return Object(g.jsxs)("div",{className:"employees__item",children:[Object(g.jsx)("h3",{className:"employees-alphabet",children:e}),(null===n||void 0===n?void 0:n.length)?n:"----"]},e)}));return console.log(n),Object(g.jsx)("div",{className:"container__employees",children:r?Object(g.jsx)("p",{children:"Oops, something went wrong on server side.."}):i?Object(g.jsx)("p",{children:"Loading..."}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{children:"Employesses"}),Object(g.jsx)("div",{className:"employees__list",children:d})]})})},L=n(5),S=n.n(L),A=function(e){var t=e.birthdaysEmployeesList;return Object(g.jsx)("div",{children:t.map((function(e,t){var n;return(null===(n=e.employees)||void 0===n?void 0:n.length)>0?Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:null===e||void 0===e?void 0:e.month}),Object(g.jsx)("div",{children:null===e||void 0===e?void 0:e.employees.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("ul",{children:Object(g.jsxs)("li",{children:[Object(g.jsxs)("span",{children:[e.lastName+" "+e.firstName," - "]}),Object(g.jsx)("span",{children:"".concat(S()(e.dob).format("DD"),"\n                                  \n                                  ").concat(S()(e.dob).format("MMMM"),", ").concat(S()(e.dob).format("YYYY")," year")})]})})},e.id)}))})]})},t):null}))})},M=function(){var e=Object(a.c)((function(e){return e.getEmployees})).allEmployees,t=null===e||void 0===e?void 0:e.filter((function(e){return e.isActive}));if(0===t.length)return Object(g.jsx)("p",{children:"Employees List is empty"});var n=l(t,"lastName"),c=(new Date).getMonth(),i=[].concat(Object(d.a)(o.slice(c)),Object(d.a)(o.slice(0,c))).map((function(e){return{month:e,employees:null===n||void 0===n?void 0:n.filter((function(t){return S()(t.dob).format("MMMM")===e}))}}));return Object(g.jsx)("div",{children:Object(g.jsx)(A,{birthdaysEmployeesList:i})})};var _=function(){return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(N,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Employees birthday"}),Object(g.jsx)(M,{})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))},w=n(7),Y=n(23),C=n(24),J={allEmployees:[],loading:!0,error:null},F=Object(w.combineReducers)({getEmployees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case v:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case h:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,allEmployees:c});case y:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:c});case f:var i=c,r=e.allEmployees,a=r.map((function(e){return e.id!==i.id?e:i}));return{allEmployees:a};default:return e}}}),D=[Y.a],I=Object(w.createStore)(F,Object(C.composeWithDevTools)(w.applyMiddleware.apply(void 0,D)));r.a.render(Object(g.jsx)(a.a,{store:I,children:Object(g.jsx)(_,{})}),document.getElementById("root")),k()}},[[56,1,2]]]);
//# sourceMappingURL=main.fe37997d.chunk.js.map